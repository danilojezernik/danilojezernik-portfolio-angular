<p>book works!</p>

<ng-container *ngIf="filteredBooks$ | async as books; else loadingData">

  <!-- Display the number of existing books if any are found - START -->
  <ul>
    <li *ngIf="books.length > 0">
      Existing books: {{ books.length }}
    </li>
  </ul>
  <!-- Display the number of existing books if any are found - END -->

  <!-- Dropdown to select the language for filtering books - START -->
  <mat-form-field>
    <mat-label>Choose an option</mat-label>
    <mat-select [(ngModel)]="selectedTechnology" (ngModelChange)="setSelectedTechnology($event)">
      <mat-option *ngFor="let language of SELECT_LANGUAGE" [value]="language">{{language}}</mat-option>
    </mat-select>
  </mat-form-field>
  <!-- Dropdown to select the language for filtering books - END -->

  <ul>
    <li class="pb-2" *ngFor="let book of books.all">
      <p class="text-2xl uppercase">{{ book.naslov }}</p>
      <p class="text-xl uppercase">{{ book.podnaslov }}</p>
      <p><strong>Tehnologija:</strong> {{ book.tehnologija }}</p>
      <p>{{ book.vsebina }}</p>
    </li>
  </ul>

  <ng-container *ngIf="books.length === 0">
    {{ 'books.noTechnologyBook' | translate }}
  </ng-container>

</ng-container>

<!-- Template to show loading spinner and text while data is being fetched - START -->
<ng-template #loadingData>
  <app-loading/>
</ng-template>
<!-- Template to show loading spinner and text while data is being fetched - END -->
