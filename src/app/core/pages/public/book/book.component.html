<p>book works!</p>

<ng-container *ngIf="filteredBooks$ | async as books; else loadingData">

  <!-- Display the number of existing books if any are found - START -->
  <ul>
    <li *ngIf="books.length > 0">
      Existing books: {{ books.length }}
    </li>
  </ul>
  <!-- Display the number of existing books if any are found - END -->

  <!-- Dropdown to select the language for filtering books - START -->
  <div class="relative inline-block w-64">
    <label for="language-select"
           class="block text-sm font-medium text-gray-700">{{ 'selected.optionTxt' | translate }}</label>
    <select id="language-select" [(ngModel)]="selectedTechnology" (change)="onSelectChange($event)"
            class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
      <option *ngFor="let language of SELECT_TECHNOLOGY" [value]="language">{{language | translate}}</option>
    </select>
  </div>
  <!-- Dropdown to select the language for filtering books - END -->

  <ul>
    <li class="pb-2" *ngFor="let book of books.all">
      <p class="text-2xl uppercase">{{ book.naslov }}</p>
      <p class="text-xl uppercase">{{ book.podnaslov }}</p>
      <p><strong>Tehnologija:</strong> {{ book.tehnologija }}</p>
      <p>{{ book.vsebina }}</p>
    </li>
  </ul>

  <ng-container *ngIf="books.length === 0">
    {{ 'books.noTechnologyBook' | translate }}
  </ng-container>

</ng-container>

<!-- Template to show loading spinner and text while data is being fetched - START -->
<ng-template #loadingData>
  <app-loading/>
</ng-template>
<!-- Template to show loading spinner and text while data is being fetched - END -->
