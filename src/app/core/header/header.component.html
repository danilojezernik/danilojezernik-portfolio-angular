<!-- TODO: fix padding or delete -->






<div class="p-2 bg-background-menu text-center border-opacity-10 border-white border rounded-2xl mt-2.5">

  <nav class="border-white-200 dark:border-white-600 dark:bg-gray-900">
    <div class="flex flex-wrap justify-between items-center mx-auto p-4">
      <a href="https://flowbite.com" class="flex items-center space-x-3 rtl:space-x-reverse">
        <img src="https://flowbite.com/docs/images/logo.svg" class="h-8" alt="Flowbite Logo"/>
        <span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">DJ</span>
      </a>
      <button data-collapse-toggle="mega-menu-full" type="button"
              class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
              aria-controls="mega-menu-full" aria-expanded="false" onclick="toggleMegaMenu()">
        <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M1 1h15M1 7h15M1 13h15"/>
        </svg>
      </button>
      <div id="mega-menu-full"
           class="items-center justify-between font-medium hidden w-full md:flex md:w-auto md:order-1">
        <ul
          class="flex flex-col items-center p-4 md:p-0 mt-4 border border-gray-100 rounded-lg  md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700">
          <li *ngFor="let item of MENU">
            <ng-container *ngIf="item.menu === 'menu.resources'; else defaultLink">
              <button id="mega-menu-full-dropdown-button" data-collapse-toggle="mega-menu-full-dropdown"
                      class="flex items-center justify-between w-full py-2 px-3 rounded md:w-auto hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-600 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-blue-500 md:dark:hover:bg-transparent dark:border-gray-700"
                      (click)="toggleMegaMenuDropdown()">
                Resources
                <svg class="w-2.5 h-2.5 ms-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                     viewBox="0 0 10 6">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="m1 1 4 4 4-4"/>
                </svg>
              </button>
            </ng-container>
            <ng-template #defaultLink>
              <ng-container *ngIf="item.menu !== 'menu.login' && item.menu !== 'menu.logout'">
                <a [href]="item.path"
                   class="block py-2 px-3 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-blue-500 md:dark:hover:bg-transparent dark:border-gray-700">
                  {{ item.menu | translate }}
                </a>
              </ng-container>
            </ng-template>
          </li>
          <li>
            <!-- Conditionally render menu items based on login status - START -->
            <ng-container *ngFor="let menu of MENU">
              <ng-container
                *ngIf="(menu.condition === 'loggedIn' && (isLoggedIn$ | async)) || (menu.condition === 'loggedOut' && !(isLoggedIn$ | async))">
                <a
                  [routerLink]="menu.path"
                  (click)="menu.path === '/logout' ? logOut() : null">{{ menu.menu | translate }}</a><br>
              </ng-container>
            </ng-container>
            <!-- Conditionally render menu items based on login status - END -->
          </li>
          <li>
            <!-- Language toggle button: Shows button to switch to Slovenian if the current language is English - START -->
            <button *ngIf="translate.currentLang === TRANSLATE_LANGUAGE.en"
                    (click)="useLanguage(TRANSLATE_LANGUAGE.si)">
              {{ LANGUAGE.si }}
            </button>
            <!-- Language toggle button: Shows button to switch to Slovenian if the current language is English - END -->

            <!-- Language toggle button: Shows button to switch to English if the current language is Slovenian - START -->
            <button *ngIf="translate.currentLang === TRANSLATE_LANGUAGE.si"
                    (click)="useLanguage(TRANSLATE_LANGUAGE.en)">
              {{ LANGUAGE.en }}
            </button>
            <!-- Language toggle button: Shows button to switch to English if the current language is Slovenian - END -->
          </li>
        </ul>
      </div>
    </div>
    <div id="mega-menu-full-dropdown" class="hidden mt-1 shadow-sm dark:bg-gray-800">
      <div class="grid px-4 py-5 mx-auto  dark:text-white sm:grid-cols-2 md:px-6">
        <ul>
          <li *ngFor="let resources of firstColumnItems">
            <a [routerLink]="resources.path" class="block p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
              <div class="font-semibold">{{ resources.menu | translate }}</div>
              <span class="text-sm text-gray-500 dark:text-gray-400">Connect with third-party tools that you're already using.</span>
            </a>
          </li>
        </ul>
        <ul>
          <li *ngFor="let resources of secondColumnItems">
            <a [routerLink]="resources.path" class="block p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
              <div class="font-semibold">{{ resources.menu | translate }}</div>
              <span class="text-sm text-gray-500 dark:text-gray-400">Connect with third-party tools that you're already using.</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

</div>
